parameters:
    stop_on_failure: true
    ignore_unstaged_changes: true
    tasks:
        composer:
            strict: true
        composer_script:
            script: spec
        git_branch_name:
            whitelist:
                - "/(feature|fix|hotfix)\\/[a-z0-9-]+/"
            blacklist:
                - master
                - develop
        jsonlint:
            detect_key_conflicts: true
        phpcpd:
            directory:
                - src
                - spec
        phpcsfixer2:
            config: .php_cs.dist
        # Disabling for now since pdepend does not fully support PHP 7.4
        # https://github.com/phpmd/phpmd/issues/700
        #phpmd:
        #    ruleset:
        #        - codesize
        #        - cleancode
        #        - controversial
        #        - design
        #        - naming
        #        - unusedcode
        #    exclude:
        #        - RoboFile.php
        #        - spec
        phpmnd: null
        psalm:
            threads: 3
        securitychecker: null
        yamllint: null
